% Packages
\usepackage{amsmath}
\usepackage{amssymb} % For set symbols
\usepackage[makeroom]{cancel} % For canceling out terms
\usepackage[colorlinks=true, linkcolor=blue, citecolor=cyan]{hyperref} % automatic hyperlinks that are blue
\usepackage{fancyhdr} % Required for custom headers
\usepackage{extramarks} % Required for headers and footers
\usepackage{lastpage} % For total page count
\usepackage{const} % For defining constant configuarion
\usepackage{siunitx} % For units
\usepackage{tikz} % For drawing things on graphs
\usepackage{pgfplots} % For Graphing
\usepackage{pgfplotstable} % For linear regression on pgfplot graphs
\pgfplotsset{compat=1.12} % Requesting a specific version

% Configuration
\allowdisplaybreaks % allow equation environments to page break
\setlength\parindent{0pt} % Removes all indentation from paragraphs
\topmargin=-0.45in
\evensidemargin=0in
\oddsidemargin=0in
\textwidth=6.5in
\textheight=9.0in
\headsep=0.25in

% Setting Values
\set{AuthorName}{Author Name}
\set{StudentID}{123456789}
\set{Email}{example@example.com}
\set{ClassName}{Class Name}
\set{InstructorName}{Instructor Name}
\set{AssignmentTitle}{Assignment 0}
\set{DueDate}{Due Date}
\set{DateCompleted}{\today}

% Set up the header and footer
\pagestyle{fancy}
\lhead{\AuthorName} % Top left header
\chead{\ClassName: \AssignmentTitle} % Top center header
\rhead{\firstxmark} % Top right header
\lfoot{\lastxmark} % Bottom left footer
\cfoot{} % Bottom center footer
\rfoot{Page\ \thepage\ of\ \pageref{LastPage}} % Bottom right footer
\renewcommand\headrulewidth{0.4pt} % Size of the header rule
\renewcommand\footrulewidth{0.4pt} % Size of the footer rule

% Header and footer for when a page split occurs within a problem environment
\newcommand{\onEnterProblem}[1]{
\nobreak\extramarks{#1}{#1 continued on next page\ldots}\nobreak
\nobreak\extramarks{#1 (continued)}{#1 continued on next page\ldots}\nobreak
}

% Header and footer for when a page split occurs between problem environments
\newcommand{\onExitProblem}[1]{
\nobreak\extramarks{#1 (continued)}{#1 continued on next page\ldots}\nobreak
\nobreak\extramarks{}{}\nobreak
}

% Defines the counter for the problems
\newcounter{ProblemCounter} % Creates a counter to keep track of the number of problems

% Defines the problem environment
\setcounter{secnumdepth}{0} % Removes default section numbers
\newcommand{\ProblemName}{} % Initializes Problem Name
\newenvironment{Problem}[1][Problem \arabic{ProblemCounter}]{ % Makes a new environment called homeworkProblem which takes 1 argument (custom name) but the default is "Problem #"
\stepcounter{ProblemCounter} % Increase counter for number of problems
\renewcommand{\ProblemName}{#1} % Assign \ProblemName the name of the problem
\section{\ProblemName} % Make a section in the document with the custom problem count
\onEnterProblem{\ProblemName} % Upon entering the environment
}{
\onExitProblem{\ProblemName} % Upon exiting the environment
}

% Defines the problem section environment
\newcommand{\ProblemSectionName}{}
\newenvironment{ProblemSection}[1]{ % New environment for sections within homework problems, takes 1 argument - the name of the section
\renewcommand{\ProblemSectionName}{#1} % Assign \ProblemSectionName to the name of the section from the environment argument
\subsection{\ProblemSectionName} % Make a subsection with the custom name of the subsection
\onEnterProblem{\ProblemName\ \ProblemSectionName} % Header and footer within the environment
}{
\onExitProblem{\ProblemName\ \ProblemSectionName} % Header and footer after the environment
}

% Title Page
\newcommand{\titlePage}{
\maketitle
\thispagestyle{empty}
\newpage
}
\title{
\vspace{1in}
\rule{\textwidth}{1.6pt}\vspace*{-\baselineskip}\vspace*{2pt} % Thick horizontal line
\rule{\textwidth}{0.4pt}\\[\baselineskip] % Thin horizontal line
\large{\textmd{\textbf{\MakeUppercase{\ClassName}}}}\\
\textbf{\AssignmentTitle}\\
\normalsize
\vspace{0.1in}
\small{Prepared For: \InstructorName}\\
\small{Due\ on\ \DueDate}\\
\vspace{0.1in}
\rule{\textwidth}{0.4pt}\vspace*{-\baselineskip}\vspace{3.2pt} % Thin horizontal line
\rule{\textwidth}{1.6pt}\\[\baselineskip] % Thick horizontal line
\vfill
\author{\AuthorName\\ \StudentID \\ \Email}
}

% Commands
\newcommand{\ba}[1]{\left< #1 \right>} % brackets angled
\newcommand{\bs}[1]{\left[ #1 \right]} % brackets square
\newcommand{\br}[1]{\left( #1 \right)} % brackets round
\newcommand{\bc}[1]{\left\{ #1 \right\}} % brackets curly
\newcommand{\abs}[1]{\left| #1 \right|} % brackets absolute value
\newcommand{\del}{\nabla} % nabla alias
\newcommand{\f}[2]{\frac{#1}{#2}} % fraction shorthand
\newcommand{\pder}[2]{\frac{\partial #1}{\partial #2}} % partial derivative
\newcommand{\pdder}[2]{\frac{\partial^2 #1}{\partial #2^2}} % partial double derivative
\newcommand{\der}[2]{\frac{\dif #1}{\dif #2}} % derivative
\newcommand{\dder}[2]{\frac{\dif^2 #1}{\dif #2^2}} % double derivative
\newcommand{\intl}{\int\limits} % integral with limits alias
\newcommand{\celsius}{^o C} % Simple celsius I'll likely improve later
\newcommand{\numberthis}{\addtocounter{equation}{1}\tag{\theequation}} % adds a number to unnumbered equation

% Math Sets
\newcommand{\R}{{\mathbb{R}}}
\newcommand{\C}{{\mathbb{C}}}
\newcommand{\Z}{{\mathbb{Z}}}
\newcommand{\N}{{\mathbb{N}}}
\newcommand{\Q}{{\mathbb{Q}}}

% Vectors
\newcommand{\va}{\vec{a}}
\newcommand{\vb}{\vec{b}}

% Differentials
\newcommand{\dif}{\mathrm{d}} % differential
\newcommand{\dx}{\dif x}
\newcommand{\dy}{\dif y}
\newcommand{\dz}{\dif z}
\newcommand{\dt}{\dif t}
\newcommand{\dphi}{\dif \phi}
\newcommand{\dtheta}{\dif \theta}
\newcommand{\drho}{\dif \rho}
\newcommand{\ds}{\dif s}
